<th:block th:fragment="setFoundation(foundationIndex)">
    <th:block 
        th:with="foundation=${gameBoard.getFoundation(foundationIndex).getCards()}, foundationSize=${foundation.size()}"
    >
        <th:block th:if="${foundationSize <= 0}">
            <tr>
                <td width="100" height="150">
                    <img src="img/cards/empty_space.jpg"/>
                </td>
            </tr>
        </th:block>
        <th:block th:unless="${foundationSize <= 0}" th:with="card=${foundation.get(0)}, cardImage=${T(com.josephmfaulkner.solitare95.utility.GuiUtils).imageFromCard(card,false)}">
            <tr>
                <td width="100" height="150">
                    <img th:src="@{${'img/cards/'+cardImage}}"/>
                </td>
            </tr>
        </th:block>
    </th:block>
</th:block >